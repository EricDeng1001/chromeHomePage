!function(){"use strict";new Vue({el:"#add-setting",created:function(){var t=this;this.colorNum=t.computedColorIndex(),infinity.onMessage("settingDone",function(i){t.settings=infinity.get("infinity-settings")}),infinity.onMessage("settingVipDone",function(i){void 0,t.userInfo=infinity.get("infinity-user")}),infinity.onMessage("reLayout",function(i){t.settings=infinity.get("infinity-settings")}),infinity.onBroadcast("loadIconSetting",function(){t.settings=infinity.get("infinity-settings"),infinity.setIconStyle(t.settings)}),infinity.onMessage("settingSearchStyleBoxShadow",function(){t.settings=infinity.get("infinity-settings");var i;i=t.settings.searchBoxShadow,infinity.setSearch(void 0,void 0,void 0,void 0,void 0,i)}),infinity.onMessage("settingShowRandowWallpaperBtn",function(){t.settings=infinity.get("infinity-settings"),infinity.setisShowRandowWallpaperBtn(t.settings.isShowRandomWallpaperBtn)}),infinity.onMessage("SetShowTopBookMarks",function(){t.settings=infinity.get("infinity-settings"),infinity.isShowloadTopSites("bookmarks",t.settings.isShowTopBookMarks,!1)}),infinity.onMessage("setTodoNumberDone",function(){t.settings=infinity.get("infinity-settings"),infinityView.setToDonumbers()}),infinity.onMessage("setShowTopSites",function(){t.settings=infinity.get("infinity-settings"),infinity.isShowloadTopSites("mostvisited",t.settings.isShowtopSites,!1)}),infinity.onMessage("settingMinModeDone",function(){t.settings=infinity.get("infinity-settings"),infinity.setMinimalistMode(t.settings.isMinimalistMode)}),infinity.onMessage("settingZoomDone",function(){t.settings=infinity.get("infinity-settings"),infinity.zoom(t.settings.settingMainZoom)}),infinity.onMessage("resetSettingDone",function(){t.settings=infinity.get("infinity-settings"),t.colorNum=0,initIcon()}),infinity.onMessage("settingSearchStyle",function(i){t.settings=infinity.get("infinity-settings");var n,e,o,s,a,f;i[0]&&(n=t.settings.isShowSearchBox),i[1]&&(e=t.settings.isShowSearchBtn),i[2]&&(o=t.settings.searchBoxRadius),i[3]&&(s=t.settings.searchBoxOpacity),i[4]&&(a=t.settings.isShowSearchType),i[5]&&(f=t.settings.searchBoxShadow),infinity.setSearch(n,e,o,s,a,f)}),infinity.onMessage("reSetting",function(){t.settings=infinity.get("infinity-settings")})},data:{searchBorderShadow:0,IconBorderRadiusAdd:100,colorNum:0,settings:infinity.get("infinity-settings"),zoomValueObj:{150:{add:0,reduce:25},125:{add:25,reduce:15},110:{add:15,reduce:10},100:{add:10,reduce:10},90:{add:10,reduce:10},80:{add:10,reduce:5},75:{add:5,reduce:8},67:{add:8,reduce:17},50:{add:17,reduce:0}},fontColors:["#dddddd","#F44336","#ff9800","#ffeb3b","#4caf50","#00bcd4","#2196f3","#673ab7","transparent"],settingItemNumberArray:[[{row:2,column:4},{row:2,column:5},{row:2,column:6}],[{row:2,column:7},{row:3,column:3},{row:3,column:4}],[{row:3,column:5},{row:3,column:6},{row:3,column:7}]],userInfo:infinity.get("infinity-user")},ready:function(){this.initColor()},methods:{searchBorderShadowChange:function(){},settingChange:function(t){infinity.sendMessage("onSettingChange",{option:t})},setlayout:function(t,i){infinity.sendMessage("setLayout",{column:t,row:i})},settingMainZoomFn:function(t){var i,n=this.settings.settingMainZoom;0==t&&(i=n-this.zoomValueObj[n].reduce),1==t&&(i=n+this.zoomValueObj[n].add),infinity.sendMessage("onSetingChangeValue",{option:"settingMainZoom",value:i}),window.globalMainZoomSize=i},settingZommLeftSlide:function(t){var i=this.settings.settingLeftSlideZoom;"string"==typeof i&&(i=parseFloat(i));var n;0==t&&(n=i-this.zoomValueObj[i].reduce),1==t&&(n=i+this.zoomValueObj[i].add),$(".sildeBox").css("zoom",n/100),infinity.setting("settingLeftSlideZoom",n),infinity.sendMessage("onSetingChangeValue",{option:"settingLeftSlideZoom",value:n})},settingChangeFn:function(t){infinity.sendMessage("onSetingChangeValue",{option:t,value:this.settings[t]})},IconBorderRadiusChange:function(){infinity.setIconStyle(this.settings),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},IconBorderChangeDone:function(t){infinity.setting("iconBorderRadius",this.settings.iconBorderRadius),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},fontSizeChange:function(){infinity.setIconStyle(this.settings),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},settingfontSizeDone:function(t){infinity.setting("fontSize",this.settings.fontSize),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},iconOpacityChange:function(){infinity.setIconStyle(this.settings),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},iconOpacityChangeDone:function(){infinity.setting("iconOpacity",this.settings.iconOpacity),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},iconShadowChange:function(){this.settings.isShowIconShadow=!this.settings.isShowIconShadow,infinity.setting("isShowIconShadow",this.settings.isShowIconShadow),infinity.setIconStyle(this.settings),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},setFontColor:function(t,i,n){i&&(0==n&&(i="rgba(255,255,255,0.8)"),this.settings.fontColor=i,infinity.setting("fontColor",this.settings.fontColor),infinity.setIconStyle(this.settings)),this.colorNum=n,infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},fontShadowChange:function(){this.settings.isOpenFontShadow=!this.settings.isOpenFontShadow,infinity.setting("isOpenFontShadow",this.settings.isOpenFontShadow),infinity.setIconStyle(this.settings),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},settingChangeSearch:function(t){infinity.sendMessage("onSetingChangeSearch",{option:t,value:this.settings[t]})},searchBorderRadisChange:function(){var t,i;i=this.settings.searchBoxRadius,t=this.settings.isShowSearchBtn,infinity.setSearch(void 0,t,i,void 0,void 0,void 0),infinity.sendMessage("autoBackup",{type:"data"})},settingChangeSearchDone:function(t){infinity.sendMessage("onSetingChangeSearch",{option:t,value:this.settings[t]})},searchBoxOpacityChange:function(){var t;t=this.settings.searchBoxOpacity,infinity.setSearch(void 0,void 0,void 0,t,void 0,void 0),infinity.sendMessage("autoBackup",{type:"data"})},resetSettings:function(){infinity.sendMessage("onResetSettings")},computedColorIndex:function(){if("#fff"==this.settings.fontColor.toLowerCase()||"#ffffff"==this.settings.fontColor.toLowerCase()||"rgba(255,255,255,0.8)"==this.settings.fontColor)return 0;var t=this.fontColors.indexOf(this.settings.fontColor);return-1==t&&(t=this.fontColors.length-1),t},callbackSetFontColor:function(t){var i=JSON.parse(JSON.stringify(this.settings));i.fontColor=t,infinity.setIconStyle(i)},callbackOkBtn:function(t){this.settings.fontColor=t,infinity.setting("fontColor",this.settings.fontColor),infinity.setIconStyle(this.settings),infinity.broadcast("loadIconSetting")},callbackCancelColor:function(){var t=this.settings.fontColor,i=this.fontColors.indexOf(t);this.colorNum=-1!=i?i:8,this.callbackSetFontColor(t),"#fff"!=t.toLowerCase()&&"#ffffff"!=t.toLowerCase()&&"rgba(255,255,255,0.8)"!=t.toLowerCase()||(this.colorNum=0)},initColor:function(){var t=this.settings.fontColor;-1==this.fontColors.indexOf(t)&&(this.fontColors[this.fontColors.length-1]=t)},initPickColor:function(t,i){var n={callbackFn:this.callbackSetFontColor,callbackBgFn:this.callbackOkBtn,calllbackCancel:this.callbackCancelColor,color:this.fontColors[this.fontColors.length-1],zoom:this.settings.settingLeftSlideZoom};this.setFontColor(t,"",i),infinity.modules.main.pickColor(t,n)}}})}();